%%% Copyright 2021 Ian Jackson and contributors
%%% SPDX-License-Identifier: MIT
%%% There is NO WARRANTY.

\documentclass[a4paper]{memoir}

\usepackage[british]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{textcomp}
\usepackage{pslatex}
\usepackage{palatino}

\usepackage{color}

\definecolor{darkgreen}{rgb}{0.0, 0.5, 0.0}
\definecolor{darkblue}{rgb}{0.0, 0.0, 0.6}

\errorcontextlines=\maxdimen

\usepackage
  [bookmarks = true, bookmarksnumbered = true, bookmarksdepth = 3,
   colorlinks = true, linkcolor = darkgreen, citecolor = darkgreen,
   urlcolor = darkblue, breaklinks = true]
  {hyperref}

\isopage[10]
\fixthelayout

\makechapterstyle{sans}
  {\renewcommand{\chapnamefont}{\normalfont\huge\sffamily\bfseries}
   \renewcommand{\chapnumfont}{\normalfont\huge\sffamily\bfseries}
   \renewcommand{\chaptitlefont}{\normalfont\Huge\sffamily\bfseries}}
\chapterstyle{sans}
\setsecheadstyle{\Large\sffamily\bfseries}
\setsubsecheadstyle{\large\sffamily\bfseries}
\setsubsubsecheadstyle{\sffamily\bfseries}
\setparaheadstyle{\sffamily\bfseries}
\setsubparaheadstyle{\sffamily\bfseries}
\setaftersubsecskip{-1em}
\maxsecnumdepth{subsection}

\nonzeroparskip
\setlength{\parindent}{0pt}

\newenvironment{longtable}[2][]
  {\begin{center}%
   \let\endhead=\relax
   \begin{tabular}{#2}}
  {\end{tabular}\end{center}}

\title{DRAFT -- Rust for the Polyglot Programmer}
\author{Ian Jackson and contributors}

\begin{document}

\pagestyle{plain}
\frontmatter

\begin{titlingpage}
  \maketitle
  \vfill
  \input{precontents}
\end{titlingpage}

\tableofcontents

\pagestyle{headings}
\mainmatter
\include{intro}
\include{syntax}
\include{types}
\include{ownership}
\include{traits}
\include{safety}
\include{errors}
\include{macros}
\include{async}
\include{ffi}
\include{rustdoc}
\include{stability}
\include{cargo}
\include{libs}

\backmatter
\include{colophon}

\end{document}
